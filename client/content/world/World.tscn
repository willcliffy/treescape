[gd_scene load_steps=13 format=3 uid="uid://bqfjt03x1tiqw"]

[ext_resource type="Shader" path="res://content/world/sky.gdshader" id="1_hrr8h"]
[ext_resource type="Script" path="res://source/map.gd" id="2_4ny5k"]
[ext_resource type="Script" path="res://source/environment.gd" id="2_r8dm3"]
[ext_resource type="Material" uid="uid://d4ljgfv3pdwlb" path="res://content/world/water/water_material.tres" id="3_s1x3g"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_irjlh"]
shader = ExtResource("1_hrr8h")
shader_parameter/sky_color = Color(0, 0.584314, 0.713726, 1)

[sub_resource type="Sky" id="Sky_30hgx"]
sky_material = SubResource("ShaderMaterial_irjlh")

[sub_resource type="Environment" id="Environment_ndiel"]
background_mode = 2
sky = SubResource("Sky_30hgx")
ssr_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j8wre"]
transparency = 1

[sub_resource type="SphereMesh" id="SphereMesh_vc2vj"]
material = SubResource("StandardMaterial3D_j8wre")
radius = 10.0
height = 20.0

[sub_resource type="PlaneMesh" id="PlaneMesh_iru4o"]
material = ExtResource("3_s1x3g")
size = Vector2(400, 400)
subdivide_width = 50
subdivide_depth = 50

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_kn6jk"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_k0rop"]
material = SubResource("StandardMaterial3D_kn6jk")
top_radius = 200.0
height = 0.1

[node name="World" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ndiel")
script = ExtResource("2_r8dm3")

[node name="Sun" type="Node3D" parent="WorldEnvironment"]

[node name="SunMesh" type="MeshInstance3D" parent="WorldEnvironment/Sun"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 350, 0)
mesh = SubResource("SphereMesh_vc2vj")
skeleton = NodePath("../..")

[node name="SunLight" type="DirectionalLight3D" parent="WorldEnvironment/Sun/SunMesh"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
light_color = Color(1, 0.862745, 0.713726, 1)
light_energy = 2.0

[node name="Map" type="Node3D" parent="."]
script = ExtResource("2_4ny5k")

[node name="Water" type="MeshInstance3D" parent="Map"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, 0, -1.5, 0)
mesh = SubResource("PlaneMesh_iru4o")

[node name="SeaFloor" type="MeshInstance3D" parent="Map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5, 0)
mesh = SubResource("CylinderMesh_k0rop")

[node name="Terrain" type="Node3D" parent="Map"]

[node name="Camera3D" type="Camera3D" parent="."]
